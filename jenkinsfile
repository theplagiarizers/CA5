pipeline {
    agent any


    tools {dockerTool  "mydocker" } 
    stages {
      
        stage("Initialize") {
            steps {
                script {
                    def dockerHome = tool 'mydocker'
                    env.PATH = "${dockerHome}/bin:${env.PATH}"
                }
            }
        }
        
        stage('Run Services') {
            steps {

                sh 'docker version'
                sh 'docker info'
                sh 'docker compose version'
                sh 'docker-compose version'
                // Deploy your application using Docker Compose
                sh 'docker compose up'
                sh 'docker-compose up'
                
                
            }
        }
        stage('Stop Services'){
            steps {

                
                    // Deploy your application using Docker Compose
                    sh 'docker compose down'
                    sh 'docker-compose down'
                
                    sh 'docker compose ps'
                   
                }

        }
    }
}